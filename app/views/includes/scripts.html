<script src="/public/javascripts/jquery/jquery.min.js"></script>

<script src="/public/javascripts/govuk-frontend/govuk/all.js"></script>
<script nonce="{{ globals.nonce }}">window.GOVUKFrontend.initAll()</script>

<script src="/public/javascripts/dropzone.js"></script>
<script nonce="{{ globals.nonce }}">
    const documentUploadConfig = {
        csrfToken: '{{ csrfToken }}',
        validMimeTypes: '{{ globals.documentUpload.validMimeTypes }}',
        maxFiles: '{{ globals.documentUpload.maxFiles }}',
        maxSizeBytes: '{{ globals.documentUpload.maxSizeBytes }}',
        timeout: '{{ globals.documentUpload.timeout }}',
        content: {
            removeFileText: '{{ common.documentUploadRemoveFile | safe }}',
            errorSummaryHeading: '{{ common.errorSummaryHeading | safe }}',
            invalidFileType: '{{ common["documentUpload-invalidFileType"] | safe }}',
            invalidFileTypeSummary: '{{ common["documentUpload-invalidFileTypeSummary"] | safe }}',
            maxFiles: '{{ common["documentUpload-maxFiles"] | safe }}',
            maxFilesSummary: '{{ common["documentUpload-maxFilesSummary"] | safe }}',
            maxSize: '{{ common["documentUpload-maxSize"] | safe }}',
            maxSizeSummary: '{{ common["documentUpload-maxSizeSummary"] | safe }}',
            uploadFailed: '{{ common["documentUpload-uploadFailed"] | safe }}',
            uploadFailedSummary: '{{ common["documentUpload-uploadFailedSummary"] | safe }}',
            uploadTimeout: '{{ common["documentUpload-uploadTimeout"] | safe }}',
            uploadTimeoutSummary: '{{ common["documentUpload-uploadTimeoutSummary"] | safe }}'
        }
    };
</script>
<script src="/public/javascripts/document-upload.js"></script>

{% if fields.isDynatraceEnabled.value === 'true' %}
<script type="text/javascript" src="https://js-cdn.dynatrace.com/jstag/17177a07246/bf24054dsx/2d6b3efe18d75f46_complete.js" crossorigin="anonymous"></script>
{% endif %}

{% if fields.isWebChatEnabled.value === 'true' and fields.isAvayaWebChatEnabled.value === 'true'%}
    <!-- https://www.srihash.org/ creating the integrity from this url wheneverthe file changes -->
    {% if fields.language.value ==='cy' %}
      <script src="https://{{ globals.webchat.avayaClientUrl }}/chat-client/welsh/app-es2015.js" defer type="module" crossorigin="anonymous"></script>
    {% endif %}
    {% if fields.language.value ==='en' %}
      <script src="https://{{ globals.webchat.avayaClientUrl }}/chat-client/1/app-es2015.js" defer type="module" crossorigin="anonymous"></script>
    {% endif %}
    <script src="https://{{ globals.webchat.avayaClientUrl }}/chat-client/1/app-es5.js" nomodule defer crossorigin="anonymous"></script>
{% endif %}
<script src="/public/javascripts/avaya-webchat-3.js"></script>
