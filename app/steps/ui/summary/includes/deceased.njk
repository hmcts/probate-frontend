{{checkanswer(
    items = [
        {
            question: content.DeceasedName.firstName,
            answer: fields.deceased.firstName.value,
            visible: true
        },
        {
            question: content.DeceasedName.lastName,
            answer: fields.deceased.lastName.value,
            visible: true
        }
    ],
    url = content.DeceasedName.url if fields.summary.caseType.value === "gop" else content.DeceasedDetails.url,
    common = common,
    alreadyDeclared = fields.summary.alreadyDeclared.value
)}}

{{checkanswer(
    items = [
        {
            question: fields.summary.deceasedAliasQuestion.value,
            answer: fields.deceased.alias.value,
            visible: true
        }
    ],
    url = content.DeceasedAlias.url,
    common = common,
    alreadyDeclared = fields.summary.alreadyDeclared.value
)}}

{% if fields.deceased.otherNames.value.length > 0 %}
    <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">{{content.Summary.otherNamesLabel | safe}}</dt>
        <dd class="govuk-summary-list__value">
            {% for index, otherName in fields.deceased.otherNames.value %}
                <div class="govuk-summary-list__row">
                    {{ otherName.firstName.value | safe }} {{ otherName.lastName.value | safe }}
                </div>
            {% endfor %}
        </dd>
        <dd class="govuk-summary-list__actions">
            {% if fields.summary.alreadyDeclared.value == "false" %}
                <a href="{{ content.DeceasedOtherNames.url }}" class="govuk-link">{{ common.change }}</a>
            {%endif%}
        </dd>
    </div>
{% endif %}

{{checkanswer(
    items = [
        {
            question: fields.summary.deceasedMarriedQuestion.value,
            answer: fields.deceased.married.value,
            visible: fields.summary.caseType.value === "gop"
        }
    ],
    url = content.DeceasedMarried.url,
    common = common,
    alreadyDeclared = fields.summary.alreadyDeclared.value
)}}

{{checkanswer(
    items = [
        {
            question: content.DeceasedDob.question,
            answer: fields.deceased["dob-formattedDate"].value,
            visible: true
        }
    ],
    url = content.DeceasedDob.url if fields.summary.caseType.value === "gop" else content.DeceasedDetails.url,
    common = common,
    alreadyDeclared = fields.summary.alreadyDeclared.value
)}}

{{checkanswer(
    items = [
        {
            question: content.DeceasedDod.question,
            answer: fields.deceased["dod-formattedDate"].value,
            visible: true
        }
    ],
    url = content.DeceasedDod.url if fields.summary.caseType.value === "gop" else content.DeceasedDetails.url,
    common = common,
    alreadyDeclared = fields.summary.alreadyDeclared.value
)}}

{{checkanswer(
    items = [
        {
            question: fields.summary.deceasedMaritalStatusQuestion.value,
            answer: fields.deceased.maritalStatus.value,
            visible: fields.summary.caseType.value === "intestacy"
        }
    ],
    url = content.DeceasedMaritalStatus.url,
    common = common,
    alreadyDeclared = fields.summary.alreadyDeclared.value
)}}

{{checkanswer(
    items = [
        {
            question: fields.summary.deceasedDivorcePlaceQuestion.value,
            answer: fields.deceased.divorcePlace.value,
            visible:
                fields.summary.caseType.value === "intestacy"
                and
                (
                    fields.deceased.maritalStatus.value == content.DeceasedMaritalStatus.optionDivorced
                    or
                    fields.deceased.maritalStatus.value == content.DeceasedMaritalStatus.optionSeparated
                )
        }
    ],
    url = content.DeceasedMaritalStatus.url,
    common = common,
    alreadyDeclared = fields.summary.alreadyDeclared.value
)}}

{{checkanswer(
    items = [
        {
            question: content.DeceasedAddress.question,
            answer: fields.deceased.address.value.formattedAddress,
            visible: true
        }
    ],
    url = content.DeceasedAddress.url,
    common = common,
    alreadyDeclared = fields.summary.alreadyDeclared.value
)}}

{{checkanswer(
    items = [
        {
            question: content.WillCodicils.question,
            answer: fields.will.codicils.value,
            visible: fields.summary.caseType.value === "gop"
        },
        {
            question: content.CodicilsNumber.question,
            answer: fields.will.codicilsNumber.value,
            visible: fields.summary.caseType.value === "gop" and fields.will.codicils.value == content.WillCodicils.optionYes
        }
    ],
    url = content.WillCodicils.url,
    common = common,
    alreadyDeclared = fields.summary.alreadyDeclared.value,
    answerIsGroup = true)
}}
