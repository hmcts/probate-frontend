{% extends "includes/layout.html" %}

{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}

{% block content %}

    <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
            {% block error_summary %}
                {% include "includes/error_summary.html" %}
            {% endblock %}
            {% block page_content %}{% endblock %}

            <form class="form" id="main-form" method="post" autocomplete="off" action="{{ pageUrl }}" novalidate>
                <input type="hidden" name="_csrf" value="{{ csrfToken }}">
                <input type="hidden" name="isSignOut" id = "isSignOut" value="false">
                {% block form_content %}{% endblock %}
            </form>

            {% block save_and_close %}
                <p class="govuk-body"><a href="/sign-out" class="govuk-link" id="save_and_close">{{ common.saveAndClose | safe }}</a></p>
            {% endblock %}
            <script nonce='{{ globals.nonce }}'>
              document.getElementById("save_and_close").addEventListener("click", function(e) {
                e.preventDefault();
                document.getElementById("isSignOut").value='true';
                document.getElementById("main-form").submit();
              });
            </script>
            {% block executor_summary %}{% endblock %}
            {% include "includes/help_details.html" %}

        </div>
    </div>
{% endblock %}
